// WARNING
//
// Do NOT edit this file while ZNC is running!
// Use webadmin or *controlpanel instead.
//
// Altering this file by hand will forfeit all support.
//
// But if you feel risky, you might want to read help on /znc saveconfig and /znc rehash.
// Also check http://en.znc.in/wiki/Configuration

AnonIPLimit = 10
ConnectDelay = 5
LoadModule = webadmin
MaxBufferSize = 500
ProtectWebSessions = true
SSLCertFile = /znc-data/znc.pem
ServerThrottle = 30
Version = 1.4

<Listener listener0>
	AllowIRC = true
	AllowWeb = true
	IPv4 = true
	IPv6 = true
	Port = 6667
	SSL = false
</Listener>

<User {{ znc_admin_username }}>
	Admin = true
	Allow = {{ znc_admin_ip_allow }}
	AltNick = {{ znc_admin_username }}_
	AppendTimestamp = false
	AutoClearChanBuffer = true
	Buffer = 50
	ChanModes = +stn
	DenyLoadMod = false
	DenySetBindHost = false
	Ident = {{ znc_admin_username }}
	JoinTries = 10
	LoadModule = chansaver
	LoadModule = controlpanel
	LoadModule = perform
	MaxJoins = 0
	MaxNetworks = 1
	MultiClients = true
	Nick = znc-admin
	PrependTimestamp = true
	QuitMsg = ZNC - http://znc.in
	RealName = Got ZNC?
	StatusPrefix = *
	TimestampFormat = [%H:%M:%S]

	<Pass password>
		Hash = {{ znc_admin_password_hash or znc_admin_password_hash_secret }}
		Method = SHA256
		Salt = {{ znc_admin_password_salt or znc_admin_password_hash_secret }}
	</Pass>
</User>

{% for user in znc_users %}
<User {{ user.username }}>
	Admin = false
	Allow = *
	AltNick = {{ user.username }}
	AppendTimestamp = false
	AutoClearChanBuffer = true
	Buffer = 50
	DenyLoadMod = false
	DenySetBindHost = false
	Ident = {{ user.username }}
	JoinTries = 0
	LoadModule = autoattach
	MaxJoins = 0
	MaxNetworks = 1
	MultiClients = true
	Nick = {{ user.nick or user.username }}
	PrependTimestamp = false
	QuitMsg = ZNC - http://znc.in
	RealName = {{ user.username }}
	StatusPrefix = *
	TimestampFormat = [%H:%M:%S]

        {% for network in user.networks %}
	<Network {{ network.human_name }} >
		FloodBurst = 4
		FloodRate = 1.00
		IRCConnectEnabled = true
		Server = {{ network.host }} {{ network.port }}

		{% for channel in network.channels -%}
		<Chan {{ channel.name }}></Chan>
		{% endfor -%}

	</Network>
	{% endfor %}

	<Pass password>
		Hash = {{ user.password_hash }}
		Method = SHA256
		Salt = {{ user.password_salt }}
	</Pass>
</User>
{% endfor %}
